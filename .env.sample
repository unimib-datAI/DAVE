# ============================================================================
# DAVE Environment Configuration
# ============================================================================
# Copy this file to .env: cp .env.sample .env
# Then update the values as needed
# ============================================================================

# ----------------------------------------------------------------------------
# DOCKER CONFIGURATION
# ----------------------------------------------------------------------------
RESTART_POLICY=unless-stopped

# ----------------------------------------------------------------------------
# UI CONFIGURATION
# ----------------------------------------------------------------------------
LISTEN_UI=3010
ACCESS_USERNAME=admin
ACCESS_PASSWORD=password
NEXT_PUBLIC_BASE_PATH=/holmes24
NEXT_PUBLIC_FULL_PATH=http://localhost:3010/holmes24
VARIANT=default
HOST=host.docker.internal

# ----------------------------------------------------------------------------
# NEXTAUTH CONFIGURATION
# ----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your_nextauth_secret_change_me
NEXTAUTH_URL=http://localhost:3010/holmes24/api/auth
NEXTAUTH_URL_INTERNAL=http://localhost:3010/holmes24/api/auth

# ----------------------------------------------------------------------------
# KEYCLOAK CONFIGURATION
# ----------------------------------------------------------------------------
KEYCLOAK_DB_PASSWORD=keycloak
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin
KEYCLOAK_HOSTNAME=localhost
USE_KEYCLOAK=false
KEYCLOAK_ID=dave_client_dev
KEYCLOAK_SECRET=your-keycloak-secret-change-me
KEYCLOAK_ISSUER=http://keycloak:8080/realms/DAVE

# ----------------------------------------------------------------------------
# MONGODB CONFIGURATION
# ----------------------------------------------------------------------------
# IMPORTANT: Change these passwords!
MONGO_ROOT_PASSWORD=change_me_secure_password
MONGO_PASSWORD=change_me_mongo_password
MONGO=mongodb://root:$MONGO_ROOT_PASSWORD@mongo:27017/$ELASTIC_INDEX?authSource=admin

# ----------------------------------------------------------------------------
# ELASTICSEARCH CONFIGURATION
# ----------------------------------------------------------------------------
ELASTIC_INDEX=anonymized
ELASTIC_PORT=9200
NEXT_PUBLIC_ELASTIC_INDEX=anonymized

# ----------------------------------------------------------------------------
# DOCUMENT SERVICE CONFIGURATION
# ----------------------------------------------------------------------------
DOCS_PORT=3001
API_BASE_URI=http://documents:3001/api
API_USERNAME=""
API_PASSWORD=""
ENABLE_AUTH=false
USE_AUTH=false
DOCUMENTS_JWT_SECRET=change-me-jwt-secret-production

# ----------------------------------------------------------------------------
# LLM CONFIGURATION
# ----------------------------------------------------------------------------
# Point to your external LLM service (Ollama, vLLM, LM Studio, etc.)
API_LLM=http://host.docker.internal:8001/v1
LLM_NAME=qwen3

# ----------------------------------------------------------------------------
# QA VECTORIZER CONFIGURATION
# ----------------------------------------------------------------------------
HOST_BASE_URL=http://0.0.0.0
INDEXER_SERVER_PORT=7863
QAVECTORIZER_ADDR=7863
API_INDEXER=http://qavectorizer:7863
CHROMA_PORT=8000
SENTENCE_TRANSFORMER_EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-mpnet-base-v2
SENTENCE_TRANSFORMER_DEVICE=cuda
OGG2NAME_INDEX=ogg2name

# ----------------------------------------------------------------------------
# ANNOTATION SERVICES (Optional - External Services)
# ----------------------------------------------------------------------------
ANONYMIZATION_ENDPOINT=http://host.docker.internal:8081
ANNOTATION_SPACYNER_URL=http://vm.chronos.disco.unimib.it:10881/api/spacyner
ANNOTATION_BLINK_URL=http://vm.chronos.disco.unimib.it:10881/api/blink/biencoder/mention/doc
ANNOTATION_INDEXER_URL=http://vm.chronos.disco.unimib.it:10881/api/indexer/search/doc
ANNOTATION_NILPREDICTION_URL=http://vm.chronos.disco.unimib.it:10881/api/nilprediction/doc
ANNOTATION_NILCLUSTER_URL=http://vm.chronos.disco.unimib.it:10881/api/clustering
ANNOTATION_CONSOLIDATION_URL=http://vm.chronos.disco.unimib.it:10881/api/consolidation

# ============================================================================
# SETUP INSTRUCTIONS:
# 1. cp .env.sample .env
# 2. Generate NEXTAUTH_SECRET: openssl rand -base64 32
# 3. Change MONGO_ROOT_PASSWORD and MONGO_PASSWORD to secure values
# 4. Update API_LLM to point to your LLM service (Ollama, vLLM, etc.)
# 5. Set LLM_NAME to your model name
# 6. Adjust LISTEN_UI port if 3010 is already in use
# 7. Update NEXT_PUBLIC_BASE_PATH and NEXT_PUBLIC_FULL_PATH if needed
# ============================================================================
